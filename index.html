<!doctype html>
<html lang="pl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Seb’s Absence Tracker</title>

  <!-- PWA -->
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#0b1220">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Seb’s Absence">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <link rel="stylesheet" href="styles.css">
</head>

<body>
  <div class="container">
    <header>
      <div class="app-title">Seb’s Absence Tracker</div>
      <div class="app-subtitle">Dane zapisują się lokalnie w przeglądarce, ale możesz też wyeksportować je do pliku.</div>

      <div class="tabs" role="tablist" aria-label="Menu">
        <button class="tab active" data-tab="holidays" role="tab" aria-selected="true">Holidays</button>
        <button class="tab" data-tab="sickness" role="tab" aria-selected="false">Sickness</button>
        <button class="tab" data-tab="childcare" role="tab" aria-selected="false">Child care</button>
        <button class="tab" data-tab="overtimes" role="tab" aria-selected="false">Overtimes</button>
        <button class="tab" data-tab="hours" role="tab" aria-selected="false">Hours</button>
      </div>

      <!-- Export/Import -->
      <div class="tools">
        <button class="btn accent" id="export-json">Export JSON</button>
        <button class="btn accent" id="import-json">Import JSON</button>
        <button class="btn danger" id="reset-all">Reset ALL</button>
        <div class="hint">
          Export pobiera plik z danymi. Import nadpisuje aktualne dane.
        </div>
        <input id="import-file" type="file" accept="application/json,.json" class="hidden">
      </div>
    </header>

    <!-- HOLIDAYS -->
    <section id="panel-holidays" class="card" role="tabpanel">
      <h2 class="section-title">Holidays</h2>
      <p class="section-subtitle">
        Dodaj pojedynczy dzień lub zakres (od–do). Full day = 1, Half day = 0.5. Wpisy mają kolejne ID.
      </p>

      <div class="form-grid">
        <div class="row">
          <div class="field">
            <label for="h-date">Data (pojedynczy dzień)</label>
            <input id="h-date" type="date" />
          </div>
          <div class="field">
            <label for="h-type">Typ dnia</label>
            <select id="h-type">
              <option value="1">Full day</option>
              <option value="0.5">Half day</option>
            </select>
          </div>
        </div>

        <div class="field">
          <label for="h-note">Notatka (opcjonalnie)</label>
          <input id="h-note" type="text" placeholder="np. urlop wypoczynkowy / wyjazd" />
        </div>

        <div class="actions">
          <button class="btn primary" id="h-add">Dodaj dzień</button>
        </div>

        <div class="divider"></div>

        <div class="row">
          <div class="field">
            <label for="h-from">Zakres: od</label>
            <input id="h-from" type="date" />
          </div>
          <div class="field">
            <label for="h-to">Zakres: do</label>
            <input id="h-to" type="date" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="h-range-type">Typ dnia (dla całego zakresu)</label>
            <select id="h-range-type">
              <option value="1">Full day</option>
              <option value="0.5">Half day</option>
            </select>
          </div>
          <div class="field">
            <label>&nbsp;</label>
            <button class="btn primary" id="h-add-range">Dodaj zakres</button>
          </div>
        </div>

        <div class="actions">
          <button class="btn danger" id="h-clear">Wyczyść Holidays</button>
        </div>
      </div>

      <div class="summary">
        <!-- editable limit -->
        <div class="pill pill-edit">
          <div class="pill-left">
            <strong>Limit roczny</strong>
            <div class="pill-sub">Możesz zmienić (np. 26)</div>
          </div>
          <div class="pill-right">
            <input id="h-limit-input" class="pill-input" type="number" min="0" step="0.5" inputmode="decimal" />
            <span class="accent pill-unit">dni</span>
          </div>
        </div>

        <div class="pill">
          <strong>Wzięte dni</strong>
          <span id="h-taken">0</span>
        </div>
        <div class="pill">
          <strong>Pozostało</strong>
          <span class="good" id="h-left">25</span>
        </div>
      </div>

      <div class="list" id="h-list"></div>
    </section>

    <!-- SICKNESS -->
    <section id="panel-sickness" class="card hidden" role="tabpanel">
      <h2 class="section-title">Sickness</h2>
      <p class="section-subtitle">
        Pojedynczy dzień lub zakres (od–do). Pola: zwolnienie, info do przełożonego, notatka.
      </p>

      <div class="form-grid">
        <div class="row">
          <div class="field">
            <label for="s-date">Data (pojedynczy dzień)</label>
            <input id="s-date" type="date" />
          </div>
          <div class="field">
            <label for="s-type">Typ dnia</label>
            <select id="s-type">
              <option value="1">Full day</option>
              <option value="0.5">Half day</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="s-cert">Zwolnienie lekarskie</label>
            <select id="s-cert">
              <option value="Nie">Nie</option>
              <option value="Tak">Tak</option>
            </select>
          </div>
          <div class="field">
            <label for="s-contact">Kontakt do przełożonego (opcjonalnie)</label>
            <input id="s-contact" type="text" placeholder="np. poinformowałem o 08:15" />
          </div>
        </div>

        <div class="field">
          <label for="s-note">Notatka (opcjonalnie)</label>
          <input id="s-note" type="text" placeholder="np. przeziębienie / wizyta u lekarza" />
        </div>

        <div class="actions">
          <button class="btn primary" id="s-add">Dodaj dzień</button>
        </div>

        <div class="divider"></div>

        <div class="row">
          <div class="field">
            <label for="s-from">Zakres: od</label>
            <input id="s-from" type="date" />
          </div>
          <div class="field">
            <label for="s-to">Zakres: do</label>
            <input id="s-to" type="date" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="s-range-type">Typ dnia (dla całego zakresu)</label>
            <select id="s-range-type">
              <option value="1">Full day</option>
              <option value="0.5">Half day</option>
            </select>
          </div>
          <div class="field">
            <label>&nbsp;</label>
            <button class="btn primary" id="s-add-range">Dodaj zakres</button>
          </div>
        </div>

        <div class="actions">
          <button class="btn danger" id="s-clear">Wyczyść Sickness</button>
        </div>
      </div>

      <div class="summary">
        <div class="pill">
          <strong>Wpisów</strong>
          <span class="accent" id="s-count">0</span>
        </div>
        <div class="pill">
          <strong>Łącznie dni</strong>
          <span id="s-total">0</span>
        </div>
        <div class="pill">
          <strong>Ostatnia data</strong>
          <span id="s-last">—</span>
        </div>
      </div>

      <div class="list" id="s-list"></div>
    </section>

    <!-- CHILD CARE -->
    <section id="panel-childcare" class="card hidden" role="tabpanel">
      <h2 class="section-title">Child care</h2>
      <p class="section-subtitle">
        Pojedynczy dzień lub zakres (od–do). Pola: dziecko, powód, notatka.
      </p>

      <div class="form-grid">
        <div class="row">
          <div class="field">
            <label for="c-date">Data (pojedynczy dzień)</label>
            <input id="c-date" type="date" />
          </div>
          <div class="field">
            <label for="c-type">Typ dnia</label>
            <select id="c-type">
              <option value="1">Full day</option>
              <option value="0.5">Half day</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="c-child">Dziecko (opcjonalnie)</label>
            <input id="c-child" type="text" placeholder="np. Jan / Zosia" />
          </div>
          <div class="field">
            <label for="c-reason">Powód</label>
            <select id="c-reason">
              <option value="Choroba dziecka">Choroba dziecka</option>
              <option value="Opieka / przedszkole zamknięte">Opieka / przedszkole zamknięte</option>
              <option value="Wizyta lekarska dziecka">Wizyta lekarska dziecka</option>
              <option value="Inne">Inne</option>
            </select>
          </div>
        </div>

        <div class="field">
          <label for="c-note">Notatka (opcjonalnie)</label>
          <input id="c-note" type="text" placeholder="np. gorączka, odbiór z przedszkola" />
        </div>

        <div class="actions">
          <button class="btn primary" id="c-add">Dodaj dzień</button>
        </div>

        <div class="divider"></div>

        <div class="row">
          <div class="field">
            <label for="c-from">Zakres: od</label>
            <input id="c-from" type="date" />
          </div>
          <div class="field">
            <label for="c-to">Zakres: do</label>
            <input id="c-to" type="date" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="c-range-type">Typ dnia (dla całego zakresu)</label>
            <select id="c-range-type">
              <option value="1">Full day</option>
              <option value="0.5">Half day</option>
            </select>
          </div>
          <div class="field">
            <label>&nbsp;</label>
            <button class="btn primary" id="c-add-range">Dodaj zakres</button>
          </div>
        </div>

        <div class="actions">
          <button class="btn danger" id="c-clear">Wyczyść Child care</button>
        </div>
      </div>

      <div class="summary">
        <div class="pill">
          <strong>Wpisów</strong>
          <span class="accent" id="c-count">0</span>
        </div>
        <div class="pill">
          <strong>Łącznie dni</strong>
          <span id="c-total">0</span>
        </div>
        <div class="pill">
          <strong>Ostatnia data</strong>
          <span id="c-last">—</span>
        </div>
      </div>

      <div class="list" id="c-list"></div>
    </section>

    <!-- OVERTIMES -->
    <section id="panel-overtimes" class="card hidden" role="tabpanel">
      <h2 class="section-title">Overtimes</h2>
      <p class="section-subtitle">
        Wybierz dzień lub zakres. Wpisz czas (hh/mm) oraz mnożnik (np. 1.5 lub 2). Tydzień liczony: niedziela–sobota.
      </p>

      <div class="form-grid">
        <div class="row">
          <div class="field">
            <label for="ot-date">Data (pojedynczy dzień)</label>
            <input id="ot-date" type="date" />
          </div>
          <div class="field">
            <label for="ot-mult">Mnożnik</label>
            <input id="ot-mult" type="number" min="1" step="0.1" inputmode="decimal" value="1.5" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="ot-hh">Godziny</label>
            <input id="ot-hh" type="number" min="0" step="1" inputmode="numeric" value="0" />
          </div>
          <div class="field">
            <label for="ot-mm">Minuty</label>
            <input id="ot-mm" type="number" min="0" max="59" step="1" inputmode="numeric" value="0" />
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" id="ot-add">Dodaj dzień</button>
        </div>

        <div class="divider"></div>

        <div class="row">
          <div class="field">
            <label for="ot-from">Zakres: od</label>
            <input id="ot-from" type="date" />
          </div>
          <div class="field">
            <label for="ot-to">Zakres: do</label>
            <input id="ot-to" type="date" />
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" id="ot-add-range">Dodaj zakres</button>
          <button class="btn danger" id="ot-clear">Wyczyść Overtimes</button>
        </div>
      </div>

      <div class="summary">
        <div class="pill">
          <strong>Tydzień (teraz)</strong>
          <span class="accent" id="ot-week">0h</span>
        </div>
        <div class="pill">
          <strong>Miesiąc (teraz)</strong>
          <span class="accent" id="ot-month">0h</span>
        </div>
        <div class="pill">
          <strong>Rok (teraz)</strong>
          <span class="accent" id="ot-year">0h</span>
        </div>
      </div>

      <div class="list" id="ot-list"></div>
    </section>

    <!-- HOURS -->
    <section id="panel-hours" class="card hidden" role="tabpanel">
      <h2 class="section-title">Hours</h2>
      <p class="section-subtitle">
        Wpisuj regularne godziny pracy (dzień lub zakres). Kalkulator liczy zarobek z uwzględnieniem nadgodzin (Overtimes) i mnożników.
      </p>

      <div class="form-grid">
        <div class="row">
          <div class="field">
            <label for="hr-date">Data (pojedynczy dzień)</label>
            <input id="hr-date" type="date" />
          </div>
          <div class="field">
            <label for="hr-note">Notatka (opcjonalnie)</label>
            <input id="hr-note" type="text" placeholder="np. projekt / lokalizacja" />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label for="hr-hh">Godziny</label>
            <input id="hr-hh" type="number" min="0" step="1" inputmode="numeric" value="8" />
          </div>
          <div class="field">
            <label for="hr-mm">Minuty</label>
            <input id="hr-mm" type="number" min="0" max="59" step="1" inputmode="numeric" value="0" />
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" id="hr-add">Dodaj dzień</button>
        </div>

        <div class="divider"></div>

        <div class="row">
          <div class="field">
            <label for="hr-from">Zakres: od</label>
            <input id="hr-from" type="date" />
          </div>
          <div class="field">
            <label for="hr-to">Zakres: do</label>
            <input id="hr-to" type="date" />
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" id="hr-add-range">Dodaj zakres</button>
          <button class="btn danger" id="hr-clear">Wyczyść Hours</button>
        </div>
      </div>

      <div class="summary">
        <div class="pill">
          <strong>Tydzień (teraz)</strong>
          <span class="accent" id="hr-week">0h</span>
        </div>
        <div class="pill">
          <strong>Miesiąc (teraz)</strong>
          <span class="accent" id="hr-month">0h</span>
        </div>
        <div class="pill">
          <strong>Rok (teraz)</strong>
          <span class="accent" id="hr-year">0h</span>
        </div>
      </div>

      <div class="divider"></div>

      <h3 class="section-mini">Kalkulator</h3>
      <div class="form-grid">
        <div class="row">
          <div class="field">
            <label for="pay-rate">Stawka za godzinę</label>
            <input id="pay-rate" type="number" min="0" step="0.01" inputmode="decimal" placeholder="np. 50" />
          </div>
          <div class="field">
            <label for="pay-cur">Waluta</label>
            <select id="pay-cur">
              <option value="PLN">PLN</option>
              <option value="EUR">EUR</option>
              <option value="GBP">GBP</option>
            </select>
          </div>
        </div>

        <div class="summary">
          <div class="pill">
            <strong>Zarobek tydzień</strong>
            <span class="accent" id="pay-week">0</span>
          </div>
          <div class="pill">
            <strong>Zarobek miesiąc</strong>
            <span class="accent" id="pay-month">0</span>
          </div>
          <div class="pill">
            <strong>Zarobek rok</strong>
            <span class="accent" id="pay-year">0</span>
          </div>
        </div>
      </div>

      <div class="divider"></div>

      <h3 class="section-mini">Tygodnie</h3>
      <div class="list" id="hr-weekly-list"></div>

      <details class="details">
        <summary>Lista wpisów dziennych (Hours)</summary>
        <div class="list" id="hr-list"></div>
      </details>

      <details class="details">
        <summary>Lista wpisów dziennych (Overtimes)</summary>
        <div class="list" id="ot-list-mini"></div>
      </details>
    </section>

    <div class="footer">seb ai 2026</div>
  </div>

  <script src="app.js" defer></script>
</body>
</html>
